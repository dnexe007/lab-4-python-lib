# Игровой магазин

## 1. Общая информация
Симуляция магазина видеоигр с полным циклом управления: инвентарь, продажи, возвраты, поиск и аналитика. В основе проекта лежит ООП.
## 2. Классы и их особенности

### Game
Базовый класс игры с атрибутами: название, разработчик, год выпуска, жанр, ID. Имеет магические методы `__eq__`, `__hash__`, `__repr__`.

### GameCollection
Коллекция для хранения игр, основанная на list через композицию. Декоратор `@game_type` позволяет хранить в коллекции только объекты `Game`.

### GameDict (абстрактный)
Распределяет игры в словари по ключам. Наследники:
- `DictByID` - по ID игры
- `DictByDeveloper` - по разработчику
- `DictByReleaseYear` - по году выпуска
- `DictByGenre` - по жанру
Автоматически создает `GameCollection` для новых ключей, удаляет пустые коллекции.

### GameStore
Основной управляющий класс с четырьмя индексами (`by_id`, `by_developer`, `by_release_year`, `by_genre`) для быстрого поиска. Отслеживает цены, прибыль, статистику продаж.

## 3. Работа симуляции
Запуск симуляции через ввод команды в main:
`sm <начальное_количество_игр> <шаги> [seed]`
Каждый шаг симуляции выполняет случайное событие:

1. Добавление
 - В магазин добавляется новая копия случайной игры
 - Устанавливается случайная цена (500-3500₽)
 - Если копии уже есть в магазине, для них цена тоже меняется

2. Снятие с продажи
 - Случайная игра снимается с продажи в магазине
 - Если игры изначально нет в магазине - будет выведена ошибка операции

3. Покупка
   Клиент со случайным балансом (1000-7000₽) пытается купить игру в магазине. Возможные исходы:
 * Успешная покупка - прибыль магазина увеличивается на цену игры
 * Игры нет в магазине - ошибка операции
 * Не хватает денег - ошибка операции

4. Возврат
   Клиент пытается вернуть купленную игру в магазин. Случайным образом выбираются:
 - Сама игра (никак не связана с ранее проданными играми в симуляции)
 - Цена покупки
 - Количество дней, прошедших с момента покупки (1-60 дней)
   Возможные исходы:
 * Прошло не больше 14 дней - операция одобряется, прибыль магазина уменьшается на цену игры (сама игра в ассортимент не добавляется)
 * Прошло больше 14 дней - ошибка операции

8. Статистика
   Отображается текущая статистика магазина:
 * Количество экземпляров игр
 * Количество уникальных игр
 * Количество уникальных разработчиков
 * Количество уникальных жанров
 * Прибыль
 * Количество проданных игр
 * Количество возвращенных игр

9. Поиск
   Выполняется поиск по одному из критериев:
 * По жанру
 * По году выхода
 * По разработчику
   В качестве результата выдается список подходящих игр (без дубликатов) или сообщение об отсутствии найденных игр.

## 4. База данных игр
Предопределенный набор игр с разными:
* Жанрами: Action, FPS, Survival Horror, Racing, Adventure
* Разработчиками: Remedy, Naughty Dog, Valve и др.
* Годами выпуска
* Уникальными ID формата `ABC_DEF`

Пример: `Game("Control", "Remedy Entertainment", 2019, "Action", "CTL_RMD")`
